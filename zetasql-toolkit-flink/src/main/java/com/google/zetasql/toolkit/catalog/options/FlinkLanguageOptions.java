package com.google.zetasql.toolkit.catalog.options;

import com.google.common.collect.ImmutableSet;
import com.google.zetasql.LanguageOptions;
import com.google.zetasql.ZetaSQLOptions.LanguageFeature;
import com.google.zetasql.ZetaSQLOptions.NameResolutionMode;
import com.google.zetasql.ZetaSQLOptions.ProductMode;
import com.google.zetasql.ZetaSQLResolvedNodeKind.ResolvedNodeKind;

public class FlinkLanguageOptions {

  private static final LanguageOptions languageOptions = new LanguageOptions();

  static {
    // FIXME: set proper options
    languageOptions.setNameResolutionMode(NameResolutionMode.NAME_RESOLUTION_DEFAULT);
    languageOptions.setProductMode(ProductMode.PRODUCT_EXTERNAL);
    languageOptions.setSupportsAllStatementKinds();
    languageOptions.enableMaximumLanguageFeatures();

    languageOptions.setEnabledLanguageFeatures(
        ImmutableSet.of(
            // FIXME: currently not supported; needs update of zetasql dependencies.
            // LanguageFeature.FEATURE_PIPES,
            LanguageFeature.FEATURE_ANALYTIC_FUNCTIONS,
            LanguageFeature.FEATURE_TABLESAMPLE,
            LanguageFeature.FEATURE_DISALLOW_GROUP_BY_FLOAT,
            LanguageFeature.FEATURE_TIMESTAMP_NANOS,
            LanguageFeature.FEATURE_DML_UPDATE_WITH_JOIN,
            LanguageFeature.FEATURE_TABLE_VALUED_FUNCTIONS,
            LanguageFeature.FEATURE_CREATE_AGGREGATE_FUNCTION,
            LanguageFeature.FEATURE_CREATE_TABLE_FUNCTION,
            LanguageFeature.FEATURE_GROUP_BY_ROLLUP,
            LanguageFeature.FEATURE_TEMPLATE_FUNCTIONS,
            LanguageFeature.FEATURE_CREATE_TABLE_PARTITION_BY,
            LanguageFeature.FEATURE_CREATE_TABLE_CLUSTER_BY,
            LanguageFeature.FEATURE_NUMERIC_TYPE,
            LanguageFeature.FEATURE_CREATE_TABLE_NOT_NULL,
            LanguageFeature.FEATURE_CREATE_TABLE_FIELD_ANNOTATIONS,
            LanguageFeature.FEATURE_CREATE_TABLE_AS_SELECT_COLUMN_LIST,
            LanguageFeature.FEATURE_DISALLOW_NULL_PRIMARY_KEYS,
            LanguageFeature.FEATURE_DISALLOW_PRIMARY_KEY_UPDATES,
            LanguageFeature.FEATURE_TABLESAMPLE_FROM_TABLE_VALUED_FUNCTIONS,
            LanguageFeature.FEATURE_ENCRYPTION,
            LanguageFeature.FEATURE_ANONYMIZATION,
            LanguageFeature.FEATURE_ANONYMIZATION_THRESHOLDING,
            LanguageFeature.FEATURE_ANONYMIZATION_CASE_INSENSITIVE_OPTIONS,
            LanguageFeature.FEATURE_DIFFERENTIAL_PRIVACY,
            LanguageFeature.FEATURE_DIFFERENTIAL_PRIVACY_REPORT_FUNCTIONS,
            LanguageFeature.FEATURE_DIFFERENTIAL_PRIVACY_THRESHOLDING,
            LanguageFeature.FEATURE_DIFFERENTIAL_PRIVACY_MAX_ROWS_CONTRIBUTED,
            LanguageFeature.FEATURE_DIFFERENTIAL_PRIVACY_PUBLIC_GROUPS,
            LanguageFeature.FEATURE_DIFFERENTIAL_PRIVACY_MIN_PRIVACY_UNITS_PER_GROUP,
            LanguageFeature.FEATURE_AGGREGATION_THRESHOLD,
            LanguageFeature.FEATURE_GEOGRAPHY,
            LanguageFeature.FEATURE_STRATIFIED_RESERVOIR_TABLESAMPLE,
            LanguageFeature.FEATURE_FOREIGN_KEYS,
            LanguageFeature.FEATURE_BETWEEN_UINT64_INT64,
            LanguageFeature.FEATURE_CHECK_CONSTRAINT,
            LanguageFeature.FEATURE_PARAMETERS_IN_GRANTEE_LIST,
            LanguageFeature.FEATURE_NAMED_ARGUMENTS,
            LanguageFeature.FEATURE_ALLOW_LEGACY_ROW_ACCESS_POLICY_SYNTAX,
            LanguageFeature.FEATURE_CREATE_MATERIALIZED_VIEW_PARTITION_BY,
            LanguageFeature.FEATURE_CREATE_MATERIALIZED_VIEW_CLUSTER_BY,
            LanguageFeature.FEATURE_CREATE_EXTERNAL_TABLE_WITH_TABLE_ELEMENT_LIST,
            LanguageFeature.FEATURE_UNENFORCED_PRIMARY_KEYS,
            LanguageFeature.FEATURE_BIGNUMERIC_TYPE,
            LanguageFeature.FEATURE_EXTENDED_TYPES,
            LanguageFeature.FEATURE_JSON_TYPE,
            LanguageFeature.FEATURE_JSON_STRICT_NUMBER_PARSING,
            LanguageFeature.FEATURE_ENABLE_CONSTANT_EXPRESSION_IN_JSON_PATH,
            LanguageFeature.FEATURE_JSON_ARRAY_FUNCTIONS,
            LanguageFeature.FEATURE_JSON_VALUE_EXTRACTION_FUNCTIONS,
            LanguageFeature.FEATURE_JSON_LAX_VALUE_EXTRACTION_FUNCTIONS,
            LanguageFeature.FEATURE_JSON_CONSTRUCTOR_FUNCTIONS,
            LanguageFeature.FEATURE_JSON_MUTATOR_FUNCTIONS,
            LanguageFeature.FEATURE_JSON_QUERY_LAX,
            LanguageFeature.FEATURE_CREATE_EXTERNAL_TABLE_WITH_PARTITION_COLUMNS,
            LanguageFeature.FEATURE_INTERVAL_TYPE,
            LanguageFeature.FEATURE_EXTRACT_ONEOF_CASE,
            LanguageFeature.FEATURE_TOKENIZED_SEARCH,
            LanguageFeature.FEATURE_PARAMETERIZED_TYPES,
            LanguageFeature.FEATURE_CREATE_TABLE_LIKE,
            LanguageFeature.FEATURE_CREATE_VIEW_WITH_COLUMN_LIST,
            LanguageFeature.FEATURE_ALTER_VIEWS_ALTER_COLUMN_SET_OPTIONS,
            LanguageFeature.FEATURE_CREATE_TABLE_CLONE,
            LanguageFeature.FEATURE_CLONE_DATA,
            LanguageFeature.FEATURE_ALTER_COLUMN_SET_DATA_TYPE,
            LanguageFeature.FEATURE_CREATE_SNAPSHOT_TABLE,
            LanguageFeature.FEATURE_FUNCTION_ARGUMENTS_WITH_DEFAULTS,
            LanguageFeature.FEATURE_CREATE_EXTERNAL_TABLE_WITH_CONNECTION,
            LanguageFeature.FEATURE_CREATE_TABLE_COPY,
            LanguageFeature.FEATURE_ALTER_TABLE_RENAME_COLUMN,
            LanguageFeature.FEATURE_DISALLOW_LEGACY_UNICODE_COLLATION,
            LanguageFeature.FEATURE_ALLOW_MISSING_PATH_EXPRESSION_IN_ALTER_DDL,
            LanguageFeature.FEATURE_TIME_BUCKET_FUNCTIONS,
            LanguageFeature.FEATURE_INVERSE_TRIG_FUNCTIONS,
            LanguageFeature.FEATURE_RANGE_TYPE,
            LanguageFeature.FEATURE_NON_SQL_PROCEDURE,
            LanguageFeature.FEATURE_ROUND_WITH_ROUNDING_MODE,
            LanguageFeature.FEATURE_CBRT_FUNCTIONS,
            LanguageFeature.FEATURE_SPANNER_LEGACY_DDL,
            LanguageFeature.FEATURE_DISABLE_ARRAY_MIN_AND_MAX,
            LanguageFeature.FEATURE_STRICT_FUNCTION_DEFAULT_ARG_TYPE_COERCION,
            LanguageFeature.FEATURE_PROTO_BASE,
            LanguageFeature.FEATURE_DISABLE_ARRAY_SUM_AND_AVG,
            LanguageFeature.FEATURE_CREATE_VIEWS_WITH_COLUMN_OPTIONS,
            LanguageFeature.FEATURE_CREATE_TABLE_WITH_CONNECTION,
            LanguageFeature.FEATURE_DISABLE_OUTER_JOIN_ARRAY,
            LanguageFeature.FEATURE_EXTERNAL_SECURITY_PROCEDURE,
            LanguageFeature.FEATURE_CREATE_MATERIALIZED_VIEW_AS_REPLICA_OF,
            LanguageFeature.FEATURE_ENABLE_ALTER_ARRAY_OPTIONS,
            LanguageFeature.FEATURE_GENERATED_BY_DEFAULT,
            LanguageFeature.FEATURE_ENFORCE_MICROS_MODE_IN_INTERVAL_TYPE,
            LanguageFeature.FEATURE_ALTER_COLUMN_DROP_GENERATED,
            LanguageFeature.FEATURE_SHADOW_PARSING,
            LanguageFeature.FEATURE_DISABLE_TEXTMAPPER_PARSER,
            LanguageFeature.FEATURE_IDENTITY_COLUMNS,
            LanguageFeature.FEATURE_EXTERNAL_SCHEMA_DDL,
            LanguageFeature.FEATURE_TEMPLATED_SQL_FUNCTION_RESOLVE_WITH_TYPED_ARGS,
            LanguageFeature.FEATURE_V_1_1_ORDER_BY_COLLATE,
            LanguageFeature.FEATURE_V_1_1_WITH_ON_SUBQUERY,
            LanguageFeature.FEATURE_V_1_1_SELECT_STAR_EXCEPT_REPLACE,
            LanguageFeature.FEATURE_V_1_1_ORDER_BY_IN_AGGREGATE,
            LanguageFeature.FEATURE_V_1_1_CAST_DIFFERENT_ARRAY_TYPES,
            LanguageFeature.FEATURE_V_1_1_ARRAY_EQUALITY,
            LanguageFeature.FEATURE_V_1_1_LIMIT_IN_AGGREGATE,
            LanguageFeature.FEATURE_V_1_1_HAVING_IN_AGGREGATE,
            LanguageFeature.FEATURE_V_1_1_NULL_HANDLING_MODIFIER_IN_ANALYTIC,
            LanguageFeature.FEATURE_V_1_1_NULL_HANDLING_MODIFIER_IN_AGGREGATE,
            LanguageFeature.FEATURE_V_1_1_FOR_SYSTEM_TIME_AS_OF,
            LanguageFeature.FEATURE_V_1_2_CIVIL_TIME,
            LanguageFeature.FEATURE_V_1_2_SAFE_FUNCTION_CALL,
            LanguageFeature.FEATURE_V_1_2_GROUP_BY_STRUCT,
            LanguageFeature.FEATURE_V_1_2_PROTO_EXTENSIONS_WITH_NEW,
            LanguageFeature.FEATURE_V_1_2_GROUP_BY_ARRAY,
            LanguageFeature.FEATURE_V_1_2_PROTO_EXTENSIONS_WITH_SET,
            LanguageFeature.FEATURE_V_1_2_CORRELATED_REFS_IN_NESTED_DML,
            LanguageFeature.FEATURE_V_1_2_WEEK_WITH_WEEKDAY,
            LanguageFeature.FEATURE_V_1_2_ARRAY_ELEMENTS_WITH_SET,
            LanguageFeature.FEATURE_V_1_2_NESTED_UPDATE_DELETE_WITH_OFFSET,
            LanguageFeature.FEATURE_V_1_2_GENERATED_COLUMNS,
            LanguageFeature.FEATURE_V_1_3_PROTO_DEFAULT_IF_NULL,
            LanguageFeature.FEATURE_V_1_3_EXTRACT_FROM_PROTO,
            LanguageFeature.FEATURE_V_1_3_DEPRECATED_DISALLOW_PROTO3_HAS_SCALAR_FIELD,
            LanguageFeature.FEATURE_V_1_3_ARRAY_ORDERING,
            LanguageFeature.FEATURE_V_1_3_OMIT_INSERT_COLUMN_LIST,
            LanguageFeature.FEATURE_V_1_3_IGNORE_PROTO3_USE_DEFAULTS,
            LanguageFeature.FEATURE_V_1_3_REPLACE_FIELDS,
            LanguageFeature.FEATURE_V_1_3_NULLS_FIRST_LAST_IN_ORDER_BY,
            LanguageFeature.FEATURE_V_1_3_ALLOW_DASHES_IN_TABLE_NAME,
            LanguageFeature.FEATURE_V_1_3_CONCAT_MIXED_TYPES,
            LanguageFeature.FEATURE_V_1_3_WITH_RECURSIVE,
            LanguageFeature.FEATURE_V_1_3_PROTO_MAPS,
            LanguageFeature.FEATURE_V_1_3_ENUM_VALUE_DESCRIPTOR_PROTO,
            LanguageFeature.FEATURE_V_1_3_DECIMAL_ALIAS,
            LanguageFeature.FEATURE_V_1_3_UNNEST_AND_FLATTEN_ARRAYS,
            LanguageFeature.FEATURE_V_1_3_ALLOW_CONSECUTIVE_ON,
            LanguageFeature.FEATURE_V_1_3_ALLOW_REGEXP_EXTRACT_OPTIONALS,
            LanguageFeature.FEATURE_V_1_3_DATE_TIME_CONSTRUCTORS,
            LanguageFeature.FEATURE_V_1_3_DATE_ARITHMETICS,
            LanguageFeature.FEATURE_V_1_3_ADDITIONAL_STRING_FUNCTIONS,
            LanguageFeature.FEATURE_V_1_3_WITH_GROUP_ROWS,
            LanguageFeature.FEATURE_V_1_3_EXTENDED_DATE_TIME_SIGNATURES,
            LanguageFeature.FEATURE_V_1_3_EXTENDED_GEOGRAPHY_PARSERS,
            LanguageFeature.FEATURE_V_1_3_INLINE_LAMBDA_ARGUMENT,
            LanguageFeature.FEATURE_V_1_3_PIVOT,
            LanguageFeature.FEATURE_V_1_3_ANNOTATION_FRAMEWORK,
            LanguageFeature.FEATURE_V_1_3_COLLATION_SUPPORT,
            LanguageFeature.FEATURE_V_1_3_IS_DISTINCT,
            LanguageFeature.FEATURE_V_1_3_FORMAT_IN_CAST,
            LanguageFeature.FEATURE_V_1_3_UNPIVOT,
            LanguageFeature.FEATURE_V_1_3_DML_RETURNING,
            LanguageFeature.FEATURE_V_1_3_FILTER_FIELDS,
            LanguageFeature.FEATURE_V_1_3_QUALIFY,
            LanguageFeature.FEATURE_V_1_3_REPEAT,
            LanguageFeature.FEATURE_V_1_3_COLUMN_DEFAULT_VALUE,
            LanguageFeature.FEATURE_V_1_3_FOR_IN,
            LanguageFeature.FEATURE_V_1_3_KLL_WEIGHTS,
            LanguageFeature.FEATURE_V_1_3_LIKE_ANY_SOME_ALL,
            LanguageFeature.FEATURE_V_1_3_CASE_STMT,
            LanguageFeature.FEATURE_V_1_3_ALLOW_SLASH_PATHS,
            LanguageFeature.FEATURE_V_1_3_TYPEOF_FUNCTION,
            LanguageFeature.FEATURE_V_1_3_SCRIPT_LABEL,
            LanguageFeature.FEATURE_V_1_3_REMOTE_FUNCTION,
            LanguageFeature.FEATURE_V_1_3_ARRAY_GREATEST_LEAST,
            LanguageFeature.FEATURE_V_1_3_BRACED_PROTO_CONSTRUCTORS,
            LanguageFeature.FEATURE_V_1_4_WITH_EXPRESSION,
            LanguageFeature.FEATURE_V_1_4_ORDERED_PRIMARY_KEYS,
            LanguageFeature.FEATURE_V_1_4_TTL,
            LanguageFeature.FEATURE_V_1_4_BARE_ARRAY_ACCESS,
            LanguageFeature.FEATURE_V_1_4_ARRAY_AGGREGATION_FUNCTIONS,
            LanguageFeature.FEATURE_V_1_4_ARRAY_FIND_FUNCTIONS,
            LanguageFeature.FEATURE_V_1_4_SAFE_FUNCTION_CALL_WITH_LAMBDA_ARGS,
            LanguageFeature.FEATURE_V_1_4_REMOTE_MODEL,
            LanguageFeature.FEATURE_V_1_4_STRUCT_POSITIONAL_ACCESSOR,
            LanguageFeature.FEATURE_V_1_4_SINGLE_TABLE_NAME_ARRAY_PATH,
            LanguageFeature.FEATURE_V_1_4_SQL_MACROS,
            LanguageFeature.FEATURE_V_1_4_COLLATION_IN_WITH_RECURSIVE,
            LanguageFeature.FEATURE_V_1_4_COLLATION_IN_EXPLICIT_CAST,
            LanguageFeature.FEATURE_V_1_4_LOAD_DATA_PARTITIONS,
            LanguageFeature.FEATURE_V_1_4_CREATE_MODEL_WITH_ALIASED_QUERY_LIST,
            LanguageFeature.FEATURE_V_1_4_LOAD_DATA_TEMP_TABLE,
            LanguageFeature.FEATURE_V_1_4_CORRESPONDING,
            LanguageFeature.FEATURE_V_1_4_SEQUENCE_ARG,
            LanguageFeature.FEATURE_V_1_4_GROUPING_BUILTIN,
            LanguageFeature.FEATURE_V_1_4_GROUPING_SETS,
            LanguageFeature.FEATURE_V_1_4_PRESERVE_ANNOTATION_IN_IMPLICIT_CAST_IN_SCAN,
            LanguageFeature.FEATURE_V_1_4_CORRESPONDING_FULL,
            LanguageFeature.FEATURE_V_1_4_LIKE_ANY_SOME_ALL_ARRAY,
            LanguageFeature.FEATURE_V_1_4_LIKE_ANY_SOME_ALL_SUBQUERY,
            LanguageFeature.FEATURE_V_1_4_FIRST_AND_LAST_N,
            LanguageFeature.FEATURE_V_1_4_NULLIFZERO_ZEROIFNULL,
            LanguageFeature.FEATURE_V_1_4_PI_FUNCTIONS,
            LanguageFeature.FEATURE_V_1_4_CREATE_FUNCTION_LANGUAGE_WITH_CONNECTION,
            LanguageFeature.FEATURE_V_1_4_SINGLETON_UNNEST_INFERS_ALIAS,
            LanguageFeature.FEATURE_V_1_4_ARRAY_ZIP,
            LanguageFeature.FEATURE_V_1_4_MULTIWAY_UNNEST,
            LanguageFeature.FEATURE_V_1_4_USE_OPERATION_COLLATION_FOR_NULLIF,
            LanguageFeature.FEATURE_V_1_4_ENABLE_EDIT_DISTANCE_BYTES,
            LanguageFeature.FEATURE_V_1_4_ENABLE_FLOAT_DISTANCE_FUNCTIONS,
            LanguageFeature.FEATURE_V_1_4_ENABLE_MEASURES,
            LanguageFeature.FEATURE_V_1_4_GROUP_BY_ALL,
            LanguageFeature.FEATURE_V_1_4_ENFORCE_STRICT_MACROS,
            LanguageFeature.FEATURE_V_1_4_LIMIT_OFFSET_EXPRESSIONS,
            LanguageFeature.FEATURE_V_1_4_MAP_TYPE,
            LanguageFeature.FEATURE_V_1_4_DISABLE_FLOAT32,
            LanguageFeature.FEATURE_V_1_4_LITERAL_CONCATENATION,
            LanguageFeature.FEATURE_V_1_4_DOT_PRODUCT,
            LanguageFeature.FEATURE_V_1_4_OPT_IN_NEW_BEHAVIOR_NOT_LIKE_ANY_SOME_ALL,
            LanguageFeature.FEATURE_V_1_4_MANHATTAN_DISTANCE,
            LanguageFeature.FEATURE_V_1_4_L1_NORM,
            LanguageFeature.FEATURE_V_1_4_L2_NORM,
            LanguageFeature.FEATURE_V_1_4_STRUCT_BRACED_CONSTRUCTORS,
            LanguageFeature.FEATURE_V_1_4_WITH_RECURSIVE_DEPTH_MODIFIER,
            LanguageFeature.FEATURE_V_1_4_JSON_ARRAY_VALUE_EXTRACTION_FUNCTIONS,
            LanguageFeature.FEATURE_V_1_4_ENFORCE_CONDITIONAL_EVALUATION,
            LanguageFeature.FEATURE_V_1_4_JSON_MORE_VALUE_EXTRACTION_FUNCTIONS,
            LanguageFeature.FEATURE_EXPERIMENTAL_MODULES,
            LanguageFeature.FEATURE_TEST_IDEALLY_ENABLED_BUT_IN_DEVELOPMENT,
            LanguageFeature.FEATURE_TEST_IDEALLY_DISABLED,
            LanguageFeature.FEATURE_TEST_IDEALLY_DISABLED_AND_IN_DEVELOPMENT));

    languageOptions.setSupportedStatementKinds(
        ImmutableSet.of(ResolvedNodeKind.RESOLVED_QUERY_STMT));
  }

  public static LanguageOptions get() {
    return languageOptions;
  }
}
